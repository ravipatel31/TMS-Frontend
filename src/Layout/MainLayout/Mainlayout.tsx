import { Avatar, Box, Grid, IconButton, Menu, MenuItem, ToggleButton, ToggleButtonGroup, Typography } from '@mui/material'
import React, { ReactNode, useEffect } from 'react'
import logo from '../../Assets/Images/logo.png'
import { useDispatch, useSelector } from 'react-redux';
import { RootState } from '../../Redux/store';
import { ArrowDropDownIcon } from '@mui/x-date-pickers';
import { Logout, PersonOutline, Settings } from '@mui/icons-material';
import { setcurrentPage, setisMobileVerify, setSelectedOption, setuserDetails } from '../../Redux/Reducers/globalSlice';
import { setSelecetdDate, setSelectedTrack } from '../../Redux/Reducers/dashboardSlice';
import { useLocation, useNavigate } from 'react-router-dom';
import { loadavg } from 'os';
import NotFound from '../../Screens/FallBack/NotFound';
import Header from '../../Screens/Components/Header/Header';
import Sidebar from '../../Screens/Components/Sidebar/Sidebar';

type IconProps = {
    selected?: boolean;
};

const Horse = ({ selected }: IconProps) => {
    return (
        <svg width="26" height="24" viewBox="0 0 26 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M23.7932 0L23.6277 1.46803L24.4771 0.166821L24.1131 1.83503C24.9184 3.0139 24.6757 4.28174 24.6757 4.28174C25.6796 7.54032 24.5543 7.54032 24.5543 7.54032C23.7049 7.66265 23.0541 6.39481 23.0541 6.39481C22.3701 5.94995 22.0061 4.92678 22.0061 4.92678C20.9912 5.78313 21.8075 9.85357 21.8075 9.85357C22.4143 11.3994 21.1236 13.279 21.1236 13.279C21.1236 13.279 20.6823 13.4013 21.289 13.4791C21.8958 13.557 23.7932 15.4365 23.7932 15.4365C25.8561 16.2929 25.8561 20.4523 25.8561 20.4523C26.2201 22.0426 25.7788 21.9203 25.7788 21.9203C23.8042 21.0195 24.6095 20.4189 24.6095 20.4189C25.128 20.2966 25.0949 19.8406 25.0949 19.8406C24.4551 19.4736 24.2455 17.5162 24.2455 17.5162C23.8373 16.4597 22.1495 15.7257 22.1495 15.7257C20.6161 14.9472 20.8919 15.7702 20.8919 15.7702C22.2267 17.0714 21.5428 17.8499 21.5428 17.8499L21.1787 20.9082C21.0133 22.4986 20.2852 22.6209 20.2852 22.6209C19.524 22.6209 19.6785 21.5199 19.6785 21.5199C19.6785 20.6636 20.4838 20.7414 20.4838 20.7414C20.3624 20.1742 20.7706 19.8851 20.7706 19.8851L20.6492 17.5607C19.9653 16.7044 18.5863 14.836 18.5863 14.836C18.2995 14.1019 17.7811 14.5134 17.7811 14.5134C15.1556 16.2261 10.4672 14.9583 10.4672 14.9583C10.4672 16.2595 9.73914 17.2382 9.73914 17.2382C9.01107 18.7507 9.69501 19.5959 9.69501 19.5959L12.6845 21.9203C13.6112 22.7322 13.2913 23.3883 13.2913 23.3883H12.1219C11.1512 23.3883 11.802 22.165 11.802 22.165C11.0408 21.9648 8.49259 20.0853 8.49259 20.0853C7.32326 19.8406 8.05133 18.05 8.05133 18.05C8.05133 16.8712 7.6542 17.0714 7.6542 17.0714C7.48873 17.6386 6.48487 18.9842 6.48487 18.9842C5.80092 21.7201 8.91178 23.2215 8.91178 23.2215C9.60676 23.7108 9.31995 24 9.31995 24H8.22784C7.41151 24 7.78658 23.2215 7.78658 23.2215C6.90406 23.177 5.76783 20.975 5.76783 20.975C3.87042 19.3846 4.88531 18.6506 4.88531 18.6506C6.09877 17.6719 6.02155 16.2039 6.02155 16.2039C3.47329 13.7238 4.12415 11.1993 4.12415 11.1993C3.42917 10.9101 3.10925 11.7331 3.10925 11.7331C2.42531 17.0269 0.119737 17.0714 0.119737 17.0714C-0.851028 9.77572 4.39993 10.354 4.39993 10.354C6.55106 7.05097 12.6514 8.519 12.6514 8.519C15.6851 7.86284 17.0971 5.18258 17.0971 5.18258C19.0938 -0.0111217 22.9769 0.967562 22.9769 0.967562L23.7932 0Z" fill={selected ? "#745FDD" : "#FFFFFF"} />
        </svg>
    )
}

const Greyhound = ({ selected }: IconProps) => {
    return (
        <svg width="35" height="24" viewBox="0 0 35 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M30.6336 0C30.6946 0.921883 31.5767 0.896489 32.0718 1.3659C32.2767 1.55981 32.3232 1.79606 32.49 2.00383C33.0225 2.66561 34.2695 2.90955 35 3.292V3.62674L34.0981 4.25082C33.4681 4.56555 33.0903 4.2993 32.4855 4.2916C32.2775 4.28853 32.1046 4.38164 31.8821 4.34932C31.6879 4.32085 31.5797 4.15463 31.3832 4.12693C31.0914 4.08537 30.8195 4.18926 30.5521 4.19003C30.3503 4.19003 30.1217 4.06998 29.9953 4.07768C29.7942 4.08922 29.2015 5.08575 29.0637 5.30583C28.6889 5.90682 28.2996 6.58862 27.9721 7.21654C26.8591 9.34811 26.3175 11.8067 24.7453 13.6666C24.7331 14.6639 24.3857 15.6251 24.2859 16.6062C24.2159 17.2911 24.3111 17.8336 24.3339 18.4961C24.3659 19.4203 24.2875 21.3511 24.8633 22.0906C25.0492 22.3299 25.0987 22.206 25.2876 22.276C25.5581 22.3761 25.8064 22.4484 25.9359 22.7362C25.9328 22.7739 25.5276 22.9647 25.4529 22.977C25.3044 23.0009 25.2244 22.9178 25.1086 22.9586C25.4202 23.2448 26.0227 23.211 26.1035 23.7119C25.6228 23.8043 25.2869 24.0628 24.7544 23.9859C24.42 23.9374 24.4832 23.8074 24.2996 23.6642C24.1808 23.5719 23.9073 23.5226 23.8365 23.4618C23.7946 23.4257 23.7329 23.0317 23.6811 22.8932C23.4343 22.2337 22.7198 21.3741 22.7274 20.6716C22.732 20.2622 22.882 19.7666 22.8767 19.3418C22.8721 18.9794 22.7571 18.5754 22.732 18.216C22.6657 17.2618 22.6756 16.2807 22.4844 15.3411C22.4052 14.9502 22.0639 14.1776 22.0753 13.8621C22.0807 13.7082 22.265 13.5197 22.233 13.335C21.1566 13.4566 20.1283 13.3081 19.1091 12.9456C17.6168 12.4146 16.724 11.011 15.2157 10.627C14.5469 10.457 13.1369 10.1692 12.4909 10.2792C12.0133 10.3608 11.7886 10.664 11.6484 11.1026C11.3818 11.9391 11.439 12.8887 11.1106 13.7398C10.7351 14.7109 9.46068 16.0706 8.63189 16.7055C8.26396 16.9871 7.80843 17.1564 7.54258 17.5589C7.53725 18.0637 7.4367 20.6608 7.80843 20.894C7.93031 20.9709 8.26168 20.9478 8.41784 21.004C8.68216 21.0979 8.83832 21.4311 8.80252 21.7035C8.36223 21.6096 7.19903 22.0013 6.89661 21.6466L6.45403 18.4677C6.17295 18.7239 5.65495 18.9848 5.47518 19.3203C5.2558 19.7297 5.18876 20.5954 5.2078 21.0633C5.21618 21.2603 5.32664 22.1937 5.40586 22.3137C5.52926 22.4999 6.02593 22.3637 6.25826 22.5692C6.32987 22.6323 6.58582 23.161 6.5363 23.2087C6.08154 23.2017 4.73171 23.7858 4.51689 23.1556C4.3714 22.73 4.43462 21.8997 4.38054 21.3965C4.30513 20.6916 3.99966 19.5512 4.11773 18.8986C4.16344 18.647 4.46357 18.3361 4.62887 18.1314C5.09506 17.5566 5.6679 17.0748 6.14933 16.5146C5.59325 16.7301 5.0425 17.0079 4.44834 17.1126C3.05433 17.3588 1.44169 17.0718 0.455983 15.9844C0.364572 15.8836 -0.0848628 15.335 0.0141652 15.2311C0.248785 15.2188 0.37219 15.4858 0.540537 15.6197C2.72525 17.3542 6.12267 17.0056 7.03601 14.0907C7.26759 13.3519 6.86614 12.6232 6.72674 11.886C6.54468 10.9225 6.48831 10.1615 6.94841 9.26115C9.1255 5.00418 13.8926 6.04072 17.8369 5.80217C19.1807 5.72137 20.4558 5.31737 21.8163 5.41279C22.4402 5.45665 23.1502 5.84526 23.6697 5.44126C24.2532 4.98802 24.8938 4.18618 25.4918 3.65367C26.345 2.89416 27.2743 2.21621 28.148 1.48132C28.2669 1.31972 28.241 0.961898 28.3255 0.767979C28.4101 0.574061 28.6371 0.523273 28.8054 0.41554C28.8991 0.355518 28.9715 0.208539 29.069 0.178528C29.315 0.103885 29.5116 0.290108 29.721 0.375525L30.1903 0.000769518H30.6321L30.6336 0Z" fill={selected ? "#745FDD" : "#FFFFFF"} />
        </svg>
    )
}
const Harness = ({ selected }: IconProps) => {
    return (
        <svg width="38" height="24" viewBox="0 0 38 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M35.2032 0C35.0507 0.419448 35.1187 0.828909 35.0731 1.24003C35.0565 1.39067 34.9098 1.4947 34.9587 1.67529C35.03 1.93495 35.766 2.67148 35.8697 2.9378C36.1275 3.59693 36.3587 3.98475 36.7392 4.61392C36.8229 4.75208 36.9042 5.02755 36.9788 5.12242C37.0534 5.2173 37.2241 5.2123 37.2738 5.29386C37.3145 5.36044 37.2283 5.48944 37.2614 5.61427C37.3443 5.9272 37.971 6.39158 37.9975 6.67038C38.0298 7.02159 37.7405 6.94669 37.651 7.08234C37.5283 7.26876 37.6435 7.43604 37.3211 7.64493C37.1661 7.7448 36.4847 7.97533 36.3223 7.95619C36.0305 7.92124 35.7719 7.31537 35.5547 7.1431C35.3823 7.00578 35.0117 6.9858 34.8402 6.712L32.8615 6.64542C32.6079 7.14476 32.3584 7.70569 32.0765 8.18589C31.8585 8.5554 31.3662 9.07305 31.2418 9.45339C31.1407 9.76381 30.926 10.8615 30.8879 11.2036C30.8282 11.7395 31.0238 12.1948 30.7312 12.7049C30.6641 12.8215 30.4991 12.9471 30.4693 13.0162C30.3358 13.3291 30.7967 15.071 30.9277 15.4888C31.1863 16.311 31.6903 17.0026 31.9464 17.7841C32.0741 18.1736 32.0384 18.479 32.1379 18.8036C32.2374 19.1281 33.0522 20.5188 33.281 20.8459C33.7559 21.525 34.5335 21.9311 34.7573 22.7767C34.4133 22.8699 33.3216 22.9331 33.1003 22.6227C32.8905 22.3289 33.1807 22.0119 33.14 21.8878C33.0066 21.4834 32.5764 21.6731 32.3799 21.3669C31.963 20.7161 31.803 19.5568 31.338 18.8402C31.1639 18.5714 30.9161 18.3533 30.7271 18.0504C30.2952 17.3571 29.9429 16.6081 29.4505 15.9507C29.4804 16.4567 29.9628 17.3338 29.6992 17.7957C29.482 18.1761 29.0444 18.1062 28.6763 18.236C28.1317 18.4282 27.404 18.9634 26.8652 19.0974C26.4979 19.1889 26.1365 19.1223 25.7345 19.2388C25.1924 19.3953 24.7746 19.8896 24.2077 19.9704C24.1919 19.5393 24.3577 18.345 24.7813 18.1511C25.146 17.9847 25.2222 18.4366 25.3947 18.4907C26.0943 18.7112 25.984 18.1261 26.0586 18.0645C26.1241 18.0105 26.837 17.9971 27.0061 17.9639C27.2547 17.9139 28.3448 17.4703 28.5263 17.3205C28.9665 16.9577 28.2793 16.1812 28.0721 15.8025C27.7107 15.1426 27.3642 14.4734 27.0036 13.8126C25.3739 13.7352 23.7476 13.513 22.1876 13.0328C21.1456 12.7124 20.2662 12.134 19.1223 12.3138C19.1223 13.0237 18.9076 13.7486 18.8661 14.4493C18.8205 15.2108 18.7667 16.9352 18.8728 17.6384C18.9789 18.3417 20.6284 20.8792 21.197 21.2387C21.362 21.3427 21.604 21.3377 21.7309 21.5325C21.7847 21.6149 21.8842 21.912 21.9298 22.036C21.9538 22.1017 22.0193 22.0984 21.9199 22.175C21.5535 22.1775 20.6185 22.3797 20.3275 22.175C20.1634 22.0601 20.3565 21.7306 20.33 21.6948C19.3842 21.5658 19.3428 20.7385 18.9838 20.0777C18.3655 18.9384 17.5399 17.8723 17.0293 16.6805C17.1917 15.8175 17.2705 14.8188 16.9091 13.9941C16.8461 13.8509 16.7192 13.5305 16.5501 13.528L12.9858 15.6952C14.6353 18.5456 12.161 21.9494 8.95479 21.0564C8.3099 23.8627 4.84503 24.9347 2.66167 23.0671C0.586066 21.2911 0.968196 17.8507 3.41764 16.6464C3.49141 16.2569 2.89957 15.6178 3.11426 15.2899C3.1615 15.2175 3.62404 14.9337 3.18471 14.9728C2.84735 15.0027 1.37934 15.4646 1.21355 15.3656C1.13564 15.1442 0.875357 14.9154 0.832254 14.6923C0.783348 14.4385 0.966538 14.3112 0.917632 14.1697C0.840543 13.9475 0.315839 13.4698 0.159174 13.2026C-0.242849 12.5169 0.2545 12.6741 0.304235 12.4686C0.316668 12.4178 0.101979 11.8477 0.074625 11.6929C-0.0903291 10.77 0.0141143 9.61151 0.428572 8.76346C0.643261 8.32404 0.99555 8.01362 1.25666 7.61497C0.816504 7.15475 0.884475 6.36412 1.10745 5.80819C1.44897 4.95847 3.0811 4.93434 3.51877 5.61927C3.64393 5.81568 3.63067 6.03788 3.71522 6.18769C3.79977 6.33749 4.11642 6.3558 4.06171 6.47731L3.5627 6.71033C3.46903 6.93504 3.66466 7.30788 3.62072 7.48681C3.60497 7.55172 3.46572 7.54673 3.43588 7.63412C3.34635 7.89461 3.60995 8.26578 3.12172 8.24331L3.0496 8.39312C3.67377 8.76679 4.05259 9.45089 4.60133 9.89281C4.82099 9.80459 4.98097 9.62233 5.2081 9.54244C5.51977 9.43258 5.8016 9.48751 6.07929 9.39596C6.37521 9.29942 6.62554 8.91743 6.96954 8.82172C7.05823 8.79675 7.84239 8.64695 7.87554 8.67941C7.86891 8.92492 7.83244 9.19623 7.6219 9.34936L11.1522 8.42807C11.4523 8.29574 11.5476 7.89211 11.7532 7.62829C12.1743 7.08734 12.9933 6.52141 13.6572 6.34914C14.7174 6.0745 16.2385 5.66504 17.3103 5.61427C17.6261 5.59929 18.3025 5.71165 18.5056 5.67087C18.7086 5.63009 19.4646 4.92934 19.7647 4.76123C21.3106 3.89321 22.3318 4.91353 23.7683 5.39623C24.1919 5.27972 24.8509 4.77455 25.2256 4.68716C25.4179 4.64222 25.5182 4.74292 25.8149 4.64638C27.9253 3.95646 30.2024 2.75304 32.2365 1.84257C32.496 1.72606 32.7662 1.63035 33.0447 1.56627L33.0895 1.50552C32.9511 1.09939 33.0704 0.713228 33.392 0.449408C33.5305 0.760665 33.5644 1.18011 33.9424 1.29996C34.6959 1.53881 34.613 0.176434 35.2032 0.00332895V0ZM29.2931 3.82829L24.8824 5.60678L24.8451 5.9971C26.5493 5.91638 28.0745 4.94016 29.2939 3.82829H29.2931ZM23.891 6.06035C23.8744 5.94883 23.7617 5.95216 23.6863 5.91554C23.2204 5.68918 21.5709 5.01173 21.1258 4.97678C20.3756 4.91852 19.8708 5.35462 19.2524 5.67919C19.235 5.84813 19.2499 5.78155 19.3469 5.80486C19.6379 5.8731 20.3433 6.08948 20.5629 6.10446C21.2816 6.15356 22.4935 6.10446 23.2246 6.06202C23.4459 6.0487 23.6705 6.06951 23.891 6.06035ZM11.1174 9.12465L7.0516 10.2423C6.62803 10.8141 7.30111 11.1869 7.40306 11.673C7.46772 11.9776 7.38897 12.2738 7.46109 12.5718C7.53237 12.6683 7.54149 12.6026 7.60532 12.5868C7.87057 12.5218 8.11261 12.3754 8.37621 12.3055C8.39527 12.1282 8.34388 11.5656 8.55194 11.4932C8.93158 11.3817 9.04514 11.7329 9.30459 11.9102L10.4667 11.4707L11.1166 9.12549L11.1174 9.12465ZM6.54182 10.3364L5.84719 10.7234L6.53768 12.3978L6.92312 12.5052C6.91069 12.2913 6.95213 12.06 6.90903 11.8494C6.85515 11.5847 6.50949 11.2003 6.47965 10.9356C6.45644 10.7309 6.57083 10.5411 6.54182 10.3364ZM6.09669 12.3779C6.14643 12.3179 5.56453 10.9822 5.43024 10.9814C4.99838 11.3168 4.40736 11.4641 3.87271 11.4849C3.75169 12.1731 4.30375 11.8253 4.73147 11.8053C5.4949 11.7703 5.46755 12.1299 6.09669 12.3787V12.3779ZM13.1508 11.4208C13.1176 11.3967 12.4553 11.6547 12.3906 11.7104C12.2696 11.8153 12.1469 12.2023 12.0342 12.3737C11.5725 13.072 10.974 13.5547 10.3548 14.1006C10.7278 14.2396 10.94 13.9616 11.2144 13.7203C11.8858 13.1294 12.452 12.402 13.1549 11.8394C13.2743 11.7104 13.1798 11.5656 13.1499 11.4216L13.1508 11.4208ZM13.2784 12.6334C13.159 12.6059 13.1276 12.7016 13.0563 12.7607C12.6078 13.1302 12.0301 13.7377 11.5932 14.163C11.5186 14.2354 11.4167 14.2995 11.4366 14.4193C11.5161 14.4193 11.5883 14.4801 11.6662 14.4834C11.827 14.4893 12.5208 13.8759 12.6766 13.7203C12.9667 13.4315 13.3522 13.0803 13.2784 12.6342V12.6334ZM9.78288 12.8248L8.51215 13.3341C8.80559 13.4381 9.11643 13.3899 9.4223 13.4015L9.78205 12.8256L9.78288 12.8248ZM6.71672 14.0482C6.37189 14.1147 4.50435 14.9478 4.12802 15.1542C3.43422 15.5354 3.70444 15.7692 3.99788 16.3701C4.84752 16.1121 5.77093 16.1396 6.60813 16.435C6.75154 16.088 6.91815 15.7426 7.15107 15.4463C7.30525 15.2499 8.06039 14.6274 8.06537 14.5176C8.04879 14.4044 8.00568 14.2887 7.89461 14.2421C7.7769 14.193 6.82945 14.0265 6.71672 14.0482ZM10.1012 14.7389C9.60135 14.6773 9.29299 14.7739 8.89843 15.0643C8.86941 15.1059 9.06835 15.5063 9.11726 15.5662C9.20098 15.6685 9.1728 15.6144 9.24243 15.5678C9.54912 15.3631 9.85997 15.0202 10.1012 14.7389ZM11.0544 14.9303L10.863 14.8971L9.41898 16.301L10.1584 18.0163L10.5778 18.2476L11.0544 14.9303ZM8.353 15.1867C7.81918 15.5703 7.46523 16.0497 7.20329 16.6506C7.17511 16.7654 7.60698 17.0534 7.7454 17.0059C7.8598 16.966 8.74093 16.1146 8.75585 16.0381L8.353 15.1867ZM10.4825 20.4805C12.2182 20.2691 13.3207 18.2518 12.6915 16.6356C12.5332 16.2286 12.4594 16.1071 12.2597 16.5557C11.9323 17.2922 11.7739 18.0105 11.6338 18.7986C11.5617 19.2014 11.6446 19.7057 11.2393 19.9978L10.4817 20.4805H10.4825ZM9.71988 18.1195L9.08327 16.6531L8.19468 17.4512C8.14992 17.5652 8.39279 17.6093 8.45081 17.6384C8.60582 17.715 9.66186 18.1644 9.71905 18.1195H9.71988ZM6.40837 17.1058C5.70959 16.8744 4.96357 16.8095 4.25401 17.0367L5.2081 19.3961C5.30342 19.4219 5.31337 19.3703 5.36725 19.3337C5.71456 19.0932 6.05525 18.5497 6.43323 18.2951L6.40837 17.1058ZM6.66864 18.9501C6.61228 18.9076 5.68721 19.8763 5.65074 19.9371C5.47501 20.2275 5.51065 20.7052 4.93538 20.5321C4.48114 20.3956 4.72567 19.9213 4.6751 19.6508L3.77656 17.3571L3.66134 17.2981C1.70344 18.4116 1.43405 21.1455 3.20792 22.5861C4.9818 24.0267 7.74872 23.0904 8.31487 20.8392C7.61444 20.3757 6.92809 19.7823 6.66947 18.9509L6.66864 18.9501ZM8.3845 20.0985C8.55691 19.764 7.89627 18.008 7.59952 18.0612C7.44451 18.2335 7.1403 18.37 7.20412 18.6313C7.32349 19.1223 7.94352 19.8405 8.3845 20.0985ZM10.4817 18.886C10.1252 19.1356 9.93706 18.8385 9.65605 18.7262C9.34355 18.6005 9.01696 18.4948 8.7028 18.3758C8.86112 18.7154 9.03188 19.0724 9.0211 19.4594C9.51348 19.4827 10.3731 19.4843 10.4817 18.886Z" fill={selected ? "#745FDD" : "#FFFFFF"} />
        </svg>
    )
}
const TopTips = ({ selected }: IconProps) => {
    return (
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M11.8826 6.42835C12.5087 6.32453 12.9151 7.15461 13.1896 7.60174C13.4395 8.00974 13.9106 9.06992 14.2471 9.3094C14.6468 9.59427 15.9845 9.7487 16.5506 9.92766C18.9021 10.6711 16.5083 12.3631 15.7868 13.4129C15.5457 13.7635 15.5817 14.0656 15.5979 14.4804C15.6271 15.2343 15.839 16.0091 15.7508 16.7682C15.5254 18.7158 12.9188 16.5047 12.0261 16.4828C11.4929 16.4697 10.091 17.3499 9.40226 17.5153C8.20957 17.8012 8.20226 16.8428 8.244 15.9397C8.2727 15.3209 8.52783 14.243 8.36504 13.6784C8.25391 13.2934 7.10609 12.1722 6.79252 11.7031C6.1127 10.6868 6.3887 10.2642 7.49061 9.91566C8.04939 9.73879 9.39443 9.58905 9.78313 9.28644C10.1859 8.97235 10.7859 7.55374 11.1757 7.02679C11.3504 6.78992 11.5659 6.48053 11.8837 6.42783L11.8826 6.42835Z" fill={selected ? "#745FDD" : "#FFFFFF"} />
            <path d="M0 12.1044V11.8957C0.105391 11.5644 0.286956 11.2461 0.664174 11.1772C1.11548 11.0948 2.66504 11.1167 3.15861 11.1631C4.22035 11.2628 4.19687 12.7388 3.15861 12.8369C2.66557 12.8833 1.11548 12.9052 0.664174 12.8228C0.292174 12.755 0.113739 12.4273 0 12.1044Z" fill={selected ? "#745FDD" : "#FFFFFF"} />
            <path d="M24 11.8957V12.1044C23.8863 12.4273 23.7073 12.755 23.3358 12.8228C22.885 12.9052 21.335 12.8833 20.8414 12.8369C19.8031 12.7393 19.7797 11.2633 20.8414 11.1631C21.335 11.1167 22.8845 11.0948 23.3358 11.1772C23.713 11.2461 23.8946 11.5644 24 11.8957Z" fill={selected ? "#745FDD" : "#FFFFFF"} />
            <path d="M12.1043 24H11.8957C11.5727 23.8863 11.245 23.7073 11.1772 23.3358C11.0948 22.8845 11.1167 21.335 11.1631 20.8414C11.2628 19.7797 12.7388 19.8031 12.8369 20.8414C12.8833 21.3344 12.9052 22.8845 12.8228 23.3358C12.755 23.7078 12.4273 23.8863 12.1043 24Z" fill={selected ? "#745FDD" : "#FFFFFF"} />
            <path d="M19.0758 17.8649C19.4635 18.2411 19.7374 18.7049 19.3315 19.2011C18.9511 19.6659 18.4717 19.5892 18.0417 19.2491C17.5346 18.8473 17.1125 18.0887 17.795 17.6124C18.3031 17.2576 18.6944 17.495 19.0758 17.8649Z" fill={selected ? "#745FDD" : "#FFFFFF"} />
            <path d="M6.03235 19.1796C5.92905 19.272 5.71044 19.4551 5.58418 19.4885C4.84696 19.6831 4.21513 18.9527 4.58087 18.2765C4.644 18.1596 5.22626 17.5685 5.33583 17.5184C6.03496 17.2002 6.78 17.916 6.4967 18.6271C6.444 18.7596 6.1487 19.0758 6.03235 19.1796Z" fill={selected ? "#745FDD" : "#FFFFFF"} />
            <path d="M12.0522 0C12.383 0.114261 12.7226 0.235304 12.8124 0.622435C12.9021 1.00957 12.8791 2.7073 12.8369 3.15861C12.7383 4.20626 11.2617 4.20626 11.1631 3.15861C11.1167 2.66557 11.0948 1.11496 11.1772 0.664174C11.2461 0.286956 11.5643 0.105391 11.8957 0H12.0522Z" fill={selected ? "#745FDD" : "#FFFFFF"} />
            <path d="M6.03235 4.82035C6.47844 5.21739 6.81026 5.76835 6.31565 6.28905C5.92591 6.69913 5.424 6.59426 5.03478 6.25879C4.55009 5.84087 4.18174 5.17305 4.79896 4.66852C5.24296 4.30539 5.65617 4.48539 6.03235 4.82035Z" fill={selected ? "#745FDD" : "#FFFFFF"} />
            <path d="M19.2308 5.97964C19.1541 6.06938 18.7456 6.44451 18.6642 6.48156C17.965 6.80086 17.2216 6.08503 17.5033 5.37286C17.5544 5.24295 18.1143 4.67999 18.2431 4.60016C19.0357 4.10869 19.9878 5.0953 19.2303 5.97964H19.2308Z" fill={selected ? "#745FDD" : "#FFFFFF"} />
        </svg>

    )
}


type MainLayoutProps = {
    children: ReactNode;
    allowedRoles: string[]
};
function Mainlayout({ children, allowedRoles }: MainLayoutProps) {
    const { userDetails, currentPage } = useSelector((state: RootState) => state.global)
    const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);
    const { seletedOption } = useSelector((state: RootState) => state.global)
    const dispatch = useDispatch()
    // const [seletedOption, setseletedOption] = React.useState<string>('horse');
    const open = Boolean(anchorEl);
    const navigate = useNavigate()
    const location = useLocation()
    const userRole = userDetails?.role?.name



    // useEffect(()=>{
    //     if(location?.pathname !== currentPage){
    //         navigate('/')
    //     }
    // },[])

    const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {
        setAnchorEl(event.currentTarget);
    };
    useEffect(() => {
        if (!allowedRoles.includes(userRole)) {
            navigate(-1)
        }
    }, [])

    const handleClose = () => {
        setAnchorEl(null);
    };

    const handleLogout = () => {
        dispatch(setuserDetails(null))
        localStorage.clear()
        dispatch(setSelecetdDate(null))
        dispatch(setSelectedTrack(''))
        setAnchorEl(null);
        dispatch(setcurrentPage(''))
        navigate('/')
    }

    return (
        (
            <Grid direction={'column'} container height={'100vh'}>
                <Grid size={'auto'} className='bg-white border border-bottom' >
                    <Header />
                </Grid>
                <Grid size={'grow'} flex={1} overflow={'hidden'} height={'calc(100vh - 60px)'} className='d-flex align-items-start'>
                    <Box width={'30%'} maxWidth={'220px'} overflow={'hidden'} className='d-flex flex-column h-100' >
                        <Sidebar />
                    </Box>
                    <Box className='h-100 bg-secondary d-flex flex-column w-100' flex={1}>
                        <Box className='w-100 mx-auto h-100 d-flex justify-content-center' overflow={'auto'}>
                            {children}
                        </Box>
                        {/* <Box className='bg-main d-flex align-items-center justify-content-center' height={'30px'}>
                            <Typography className='fs-14  text-center text-white'>Copyright Â© Roaring Picks Pty Ltd 2025. All Rights Reserved.</Typography>
                        </Box> */}
                    </Box>

                </Grid>

            </Grid>
        )
        // : (
        //     <NotFound />
        // )
    )
}

export default Mainlayout
